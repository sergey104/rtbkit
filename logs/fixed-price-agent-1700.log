FD limit too low: 1024/4096 smaller than recommended 65535
FD limit raised to: 4096
connecting to Carbon at 127.0.0.1:2003 (localhost)
2016-07-22 11:26:25.167 [1;32mZMQ [1;34mconnecting to masterBanker/zeromq[0m
2016-07-22 11:26:25.169 [1;32mZMQ [1;34mconnected to tcp://ip-172-31-19-171.eu-west-1.compute.internal:22000[0m
2016-07-22 11:26:25.169 [1;32mSlaveBankerArguments [1;34musing zmq interface for the MasterBanker[0m
2016-07-22 11:26:25.172 [1;32mZMQ [1;34mconnecting to agentConfigurationService/agents[0m
wexists handler returned -101
2. returning result 
2016-07-22 11:26:25.193 [1;32mZMQ Trace [1;34mconnecting to router / router[0m
2016-07-22 11:26:25.194 [1;32mZMQ [1;34mconnecting to router/agents[0m
wexists handler returned -101
2. returning result 
2016-07-22 11:26:25.204 [1;32mZMQ Error [1;34mdropping message for agents[0m
2016-07-22 11:26:25.204 [1;32mZMQ [1;34mconnecting to agentConfigurationService/agents[0m
2016-07-22 11:26:25.207 [1;32mZMQ [1;34mconnecting to agentConfigurationService/agents[0m
2016-07-22 11:26:25.210 [1;32mZMQ [1;34mconnected to tcp://ip-172-31-19-171.eu-west-1.compute.internal:15000[0m
2016-07-22 11:26:25.212 [1;32mZMQ Trace [1;34mconnecting to PostAuctionLoop / PostAuctionLoop[0m
2016-07-22 11:26:25.212 [1;32mZMQ [1;34mconnecting to PostAuctionLoop/agents[0m
wexists handler returned -101
2. returning result 
2016-07-22 11:26:25.236 [1;32mZMQ [1;34mconnecting to router/agents[0m
2016-07-22 11:26:25.240 [1;32mZMQ [1;34mconnecting to router/agents[0m
2016-07-22 11:26:25.242 [1;32mZMQ [1;34mconnected to tcp://ip-172-31-19-171.eu-west-1.compute.internal:17000[0m
BiddingAgent is connected to router router
2016-07-22 11:26:25.266 [1;32mZMQ [1;34mconnecting to PostAuctionLoop/agents[0m
2016-07-22 11:26:25.269 [1;32mZMQ [1;34mconnecting to PostAuctionLoop/agents[0m
2016-07-22 11:26:25.270 [1;32mZMQ [1;34mconnected to tcp://ip-172-31-19-171.eu-west-1.compute.internal:21000[0m
BiddingAgent is connected to post auction service PostAuctionLoop

--------------------------[Exception thrown]---------------------------
time:   2016-07-22T11:26:37Z
type:   ML::Assertion_Failure
pid:    1700; tid: 1774
what:   assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
stack:
00: 0x0x7fc7f13effdb at __cxa_throw + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so + 0xfdb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so(__cxa_throw+0xbb) [0x7fc7f13effdb]
01: 0x0x428857 at RTBKIT::FixedPriceBiddingAgent::bid(double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&) + 0x337 in build/x86_64/bin/bidding_agent_ex + 0x28857build/x86_64/bin/bidding_agent_ex(_ZN6RTBKIT22FixedPriceBiddingAgent3bidEdRKN10Datacratic2IdESt10shared_ptrINS_10BidRequestEENS_4BidsEdRKN4Json5ValueE+0x337) [0x428857]
02: 0x0x4276c9 at boost::detail::function::void_function_obj_invoker7<boost::_bi::bind_t<void, boost::_mfi::mf6<void, RTBKIT::FixedPriceBiddingAgent, double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&>, boost::_bi::list7<boost::_bi::value<RTBKIT::FixedPriceBiddingAgent*>, boost::arg<1>, boost::arg<2>, boost::arg<3>, boost::arg<4>, boost::arg<5>, boost::arg<6> > >, void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::invoke(boost::detail::function::function_buffer&, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) + 0x239 in build/x86_64/bin/bidding_agent_ex + 0x276c9build/x86_64/bin/bidding_agent_ex(_ZN5boost6detail8function26void_function_obj_invoker7INS_3_bi6bind_tIvNS_4_mfi3mf6IvN6RTBKIT22FixedPriceBiddingAgentEdRKN10Datacratic2IdESt10shared_ptrINS7_10BidRequestEENS7_4BidsEdRKN4Json5ValueEEENS3_5list7INS3_5valueIPS8_EENS_3argILi1EEENSQ_ILi2EEENSQ_ILi3EEENSQ_ILi4EEENSQ_ILi5EEENSQ_ILi6EEEEEEEvdSA_SF_RKSG_dSI_RKNS7_12WinCostModelEE6invokeERNS1_15function_bufferEdSA_SF_S10_dSI_S13_+0x239) [0x4276c9]
03: 0x0x7fc7f0fd1c48 at boost::function7<void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::operator()(double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) const + 0xd8 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x34c48/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZNK5boost9function7IvdN10Datacratic2IdESt10shared_ptrIN6RTBKIT10BidRequestEERKNS4_4BidsEdN4Json5ValueERKNS4_12WinCostModelEEclEdS2_S6_S9_dSB_SE_+0xd8) [0x7fc7f0fd1c48]
04: 0x0x7fc7f0fc63bd at RTBKIT::BiddingAgent::handleBidRequest(std::string const&, std::vector<std::string, std::allocator<std::string> > const&, boost::function<void (double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&)>&) + 0xadd in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x293bd/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent16handleBidRequestERKSsRKSt6vectorISsSaISsEERN5boost8functionIFvdN10Datacratic2IdESt10shared_ptrINS_10BidRequestEERKNS_4BidsEdN4Json5ValueERKNS_12WinCostModelEEEE+0xadd) [0x7fc7f0fc63bd]
05: 0x0x7fc7f0fc6dfa at RTBKIT::BiddingAgent::handleRouterMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0x52a in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x29dfa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent19handleRouterMessageERKSsRKSt6vectorISsSaISsEE+0x52a) [0x7fc7f0fc6dfa]
06: 0x0x7fc7f0fc73aa in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2a3aa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(+0x2a3aa) [0x7fc7f0fc73aa]
07: 0x0x7fc7f0fcc411 at Datacratic::ZmqMultipleNamedClientBusProxy::handleMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0xb1 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f411/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic30ZmqMultipleNamedClientBusProxy13handleMessageERKSsRKSt6vectorISsSaISsEE+0xb1) [0x7fc7f0fcc411]
08: 0x0x7fc7f0fcc2cb at Datacratic::ZmqNamedClientBusProxy::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x7b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f2cb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic22ZmqNamedClientBusProxy13handleMessageERKSt6vectorISsSaISsEE+0x7b) [0x7fc7f0fcc2cb]
09: 0x0x7fc7f0d4777d at std::function<void (std::vector<std::string, std::allocator<std::string> >)>::operator()(std::vector<std::string, std::allocator<std::string> >) const + 0x4d in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so + 0x9077d/home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so(_ZNKSt8functionIFvSt6vectorISsSaISsEEEEclES2_+0x4d) [0x7fc7f0d4777d]
10: 0x0x7fc7f07881b2 at Datacratic::ZmqEventSource::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x42 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe71b2/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource13handleMessageERKSt6vectorISsSaISsEE+0x42) [0x7fc7f07881b2]
11: 0x0x7fc7f078a23b at Datacratic::ZmqEventSource::processOne() + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe923b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource10processOneEv+0xbb) [0x7fc7f078a23b]
12: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
13: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
14: 0x0x7fc7f0776b5e at Datacratic::MessageLoop::handleEpollEvent(epoll_event&) + 0xe in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd5b5e/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop16handleEpollEventER11epoll_event+0xe) [0x7fc7f0776b5e]
15: 0x0x7fc7f0762f36 at Datacratic::Epoller::handleEvents(int, int, std::function<Datacratic::Epoller::HandleEventResult (epoll_event&)> const&, std::function<void ()> const&, std::function<void ()> const&) + 0x1f6 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xc1f36/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic7Epoller12handleEventsEiiRKSt8functionIFNS0_17HandleEventResultER11epoll_eventEERKS1_IFvvEESC_+0x1f6) [0x7fc7f0762f36]
16: 0x0x7fc7f0777b88 at Datacratic::MessageLoop::runWorkerThread() + 0x518 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6b88/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop15runWorkerThreadEv+0x518) [0x7fc7f0777b88]
17: 0x0x7fc7f0777dc5 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6dc5/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(+0xd6dc5) [0x7fc7f0777dc5]
18: 0x0x7fc7f044ea60 in /usr/lib/x86_64-linux-gnu/libstdc++.so.6 + 0xb1a60/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb1a60) [0x7fc7f044ea60]
19: 0x0x7fc7f15fa182 in /lib/x86_64-linux-gnu/libpthread.so.0 + 0x8182/lib/x86_64-linux-gnu/libpthread.so.0(+0x8182) [0x7fc7f15fa182]
20: 0x0x7fc7efbb647d at clone + 0x6d in /lib/x86_64-linux-gnu/libc.so.6 + 0xfa47d/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d) [0x7fc7efbb647d]

Error handling auction message assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
	0: AUCTION
	1: 1469186797.83557
	2: 40e96593-2f37-4819-888d-a33b3b90efc31469186805199
	3: datacratic
	4: {"id":"40e96593-2f37-4819-888d-a33b3b90efc31469186805199","timestamp":"2016-07-22T11:26:37.840Z","isTest":false,"url":"http://com.sabzira.pianotiles/","ipAddress":"31.170.250.71","userAgent":"Dalvik/2.1.0 (Linux; U; Android 5.1.1; SM-A310F Build/LMY47X)","language":"fr","exchange":"appodeal","provider":"appodeal","location":{"countryCode":"AZE","dma":-1,"metro":-1,"timezoneOffsetMinutes":-1},"segments":{"1":["address"],"2":[],"api-banner":["MRAID-2"],"iab-categories":["IAB9-30","Music"],"openrtb-wseat":[]},"restrictions":{"badv":[],"bcat":[]},"userIds":{"prov":"9202857728581019180"},"imp":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.0230858,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"spots":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.0230858,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"app":{"id":"com.sabzira.PianoTiles","name":"Piano Tiles","cat":["IAB9-30","Music"],"publisher":{"name":"Sabzira"},"ver":"2.0.16","bundle":"com.sabzira.PianoTiles","paid":0},"device":{"dnt":0,"ua":"Dalvik/2.1.0 (Linux; U; Android 5.1.1; SM-A310F Build/LMY47X)","ip":"31.170.250.71","geo":{"lat":40.5,"lon":47.5,"country":"AZE","type":3},"language":"fr","make":"samsung","model":"SM-A310F","os":"Android","osv":"5.1.1","js":1,"connectiontype":2,"devicetype":4,"flashver":"0","ifa":"40e96593-2f37-4819-888d-a33b3b90efc3"},"user":{"data":[{"id":"1","name":"appodeal","segment":[{"id":"address","name":"address","value":"Azerbaijan"}]},{"id":"2","name":"user"}]},"unparseable":{"app":{"storeUrl":"https://play.google.com/store/apps/details?id=com.sabzira.PianoTiles&hl=en"},"device":{"geo":{"utcoffset":240},"h":1280,"hwv":"samsungexynos7580","lmt":0,"ppi":320,"pxratio":2,"w":720},"test":0},"bidCurrency":["USD"]}
	5: [{"spot":0,"creatives":[0,1,2,3,4,5,6]}]
	6: 128.691435
	7: {"frequency-cap-ex":{"data":0,"tags":["pass-frequency-cap-ex"]}}
	8: null


--------------------------[Exception thrown]---------------------------
time:   2016-07-22T11:26:45Z
type:   ML::Assertion_Failure
pid:    1700; tid: 1774
what:   assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
stack:
00: 0x0x7fc7f13effdb at __cxa_throw + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so + 0xfdb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so(__cxa_throw+0xbb) [0x7fc7f13effdb]
01: 0x0x428857 at RTBKIT::FixedPriceBiddingAgent::bid(double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&) + 0x337 in build/x86_64/bin/bidding_agent_ex + 0x28857build/x86_64/bin/bidding_agent_ex(_ZN6RTBKIT22FixedPriceBiddingAgent3bidEdRKN10Datacratic2IdESt10shared_ptrINS_10BidRequestEENS_4BidsEdRKN4Json5ValueE+0x337) [0x428857]
02: 0x0x4276c9 at boost::detail::function::void_function_obj_invoker7<boost::_bi::bind_t<void, boost::_mfi::mf6<void, RTBKIT::FixedPriceBiddingAgent, double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&>, boost::_bi::list7<boost::_bi::value<RTBKIT::FixedPriceBiddingAgent*>, boost::arg<1>, boost::arg<2>, boost::arg<3>, boost::arg<4>, boost::arg<5>, boost::arg<6> > >, void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::invoke(boost::detail::function::function_buffer&, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) + 0x239 in build/x86_64/bin/bidding_agent_ex + 0x276c9build/x86_64/bin/bidding_agent_ex(_ZN5boost6detail8function26void_function_obj_invoker7INS_3_bi6bind_tIvNS_4_mfi3mf6IvN6RTBKIT22FixedPriceBiddingAgentEdRKN10Datacratic2IdESt10shared_ptrINS7_10BidRequestEENS7_4BidsEdRKN4Json5ValueEEENS3_5list7INS3_5valueIPS8_EENS_3argILi1EEENSQ_ILi2EEENSQ_ILi3EEENSQ_ILi4EEENSQ_ILi5EEENSQ_ILi6EEEEEEEvdSA_SF_RKSG_dSI_RKNS7_12WinCostModelEE6invokeERNS1_15function_bufferEdSA_SF_S10_dSI_S13_+0x239) [0x4276c9]
03: 0x0x7fc7f0fd1c48 at boost::function7<void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::operator()(double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) const + 0xd8 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x34c48/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZNK5boost9function7IvdN10Datacratic2IdESt10shared_ptrIN6RTBKIT10BidRequestEERKNS4_4BidsEdN4Json5ValueERKNS4_12WinCostModelEEclEdS2_S6_S9_dSB_SE_+0xd8) [0x7fc7f0fd1c48]
04: 0x0x7fc7f0fc63bd at RTBKIT::BiddingAgent::handleBidRequest(std::string const&, std::vector<std::string, std::allocator<std::string> > const&, boost::function<void (double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&)>&) + 0xadd in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x293bd/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent16handleBidRequestERKSsRKSt6vectorISsSaISsEERN5boost8functionIFvdN10Datacratic2IdESt10shared_ptrINS_10BidRequestEERKNS_4BidsEdN4Json5ValueERKNS_12WinCostModelEEEE+0xadd) [0x7fc7f0fc63bd]
05: 0x0x7fc7f0fc6dfa at RTBKIT::BiddingAgent::handleRouterMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0x52a in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x29dfa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent19handleRouterMessageERKSsRKSt6vectorISsSaISsEE+0x52a) [0x7fc7f0fc6dfa]
06: 0x0x7fc7f0fc73aa in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2a3aa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(+0x2a3aa) [0x7fc7f0fc73aa]
07: 0x0x7fc7f0fcc411 at Datacratic::ZmqMultipleNamedClientBusProxy::handleMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0xb1 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f411/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic30ZmqMultipleNamedClientBusProxy13handleMessageERKSsRKSt6vectorISsSaISsEE+0xb1) [0x7fc7f0fcc411]
08: 0x0x7fc7f0fcc2cb at Datacratic::ZmqNamedClientBusProxy::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x7b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f2cb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic22ZmqNamedClientBusProxy13handleMessageERKSt6vectorISsSaISsEE+0x7b) [0x7fc7f0fcc2cb]
09: 0x0x7fc7f0d4777d at std::function<void (std::vector<std::string, std::allocator<std::string> >)>::operator()(std::vector<std::string, std::allocator<std::string> >) const + 0x4d in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so + 0x9077d/home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so(_ZNKSt8functionIFvSt6vectorISsSaISsEEEEclES2_+0x4d) [0x7fc7f0d4777d]
10: 0x0x7fc7f07881b2 at Datacratic::ZmqEventSource::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x42 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe71b2/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource13handleMessageERKSt6vectorISsSaISsEE+0x42) [0x7fc7f07881b2]
11: 0x0x7fc7f078a23b at Datacratic::ZmqEventSource::processOne() + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe923b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource10processOneEv+0xbb) [0x7fc7f078a23b]
12: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
13: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
14: 0x0x7fc7f0776b5e at Datacratic::MessageLoop::handleEpollEvent(epoll_event&) + 0xe in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd5b5e/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop16handleEpollEventER11epoll_event+0xe) [0x7fc7f0776b5e]
15: 0x0x7fc7f0762f36 at Datacratic::Epoller::handleEvents(int, int, std::function<Datacratic::Epoller::HandleEventResult (epoll_event&)> const&, std::function<void ()> const&, std::function<void ()> const&) + 0x1f6 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xc1f36/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic7Epoller12handleEventsEiiRKSt8functionIFNS0_17HandleEventResultER11epoll_eventEERKS1_IFvvEESC_+0x1f6) [0x7fc7f0762f36]
16: 0x0x7fc7f0777b88 at Datacratic::MessageLoop::runWorkerThread() + 0x518 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6b88/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop15runWorkerThreadEv+0x518) [0x7fc7f0777b88]
17: 0x0x7fc7f0777dc5 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6dc5/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(+0xd6dc5) [0x7fc7f0777dc5]
18: 0x0x7fc7f044ea60 in /usr/lib/x86_64-linux-gnu/libstdc++.so.6 + 0xb1a60/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb1a60) [0x7fc7f044ea60]
19: 0x0x7fc7f15fa182 in /lib/x86_64-linux-gnu/libpthread.so.0 + 0x8182/lib/x86_64-linux-gnu/libpthread.so.0(+0x8182) [0x7fc7f15fa182]
20: 0x0x7fc7efbb647d at clone + 0x6d in /lib/x86_64-linux-gnu/libc.so.6 + 0xfa47d/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d) [0x7fc7efbb647d]

Error handling auction message assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
	0: AUCTION
	1: 1469186805.68948
	2: f488fa4c-8cd5-4863-ab2c-7e6584073d461469186807781
	3: datacratic
	4: {"id":"f488fa4c-8cd5-4863-ab2c-7e6584073d461469186807781","timestamp":"2016-07-22T11:26:45.690Z","isTest":false,"url":"http://com.sabzira.pianotiles/","ipAddress":"217.247.144.151","userAgent":"Dalvik/2.1.0 (Linux; U; Android 5.0; Tab2A7-10F Build/LRX21M)","language":"de","exchange":"appodeal","provider":"appodeal","location":{"countryCode":"DEU","cityName":"Braunschweig","postalCode":"38118","dma":-1,"metro":-1,"timezoneOffsetMinutes":-1},"segments":{"1":["address"],"2":[],"api-banner":["MRAID-2"],"iab-categories":["IAB9-30","Music"],"openrtb-wseat":[]},"restrictions":{"badv":[],"bcat":[]},"userIds":{"prov":"11231163098496894483"},"imp":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.13,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"spots":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.13,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"app":{"id":"com.sabzira.PianoTiles","name":"Piano Tiles","cat":["IAB9-30","Music"],"publisher":{"name":"Sabzira"},"ver":"2.0.16","bundle":"com.sabzira.PianoTiles","paid":0},"device":{"dnt":0,"ua":"Dalvik/2.1.0 (Linux; U; Android 5.0; Tab2A7-10F Build/LRX21M)","ip":"217.247.144.151","geo":{"lat":52.259,"lon":10.5002,"country":"DEU","city":"Braunschweig","zip":"38118","type":3},"language":"de","make":"LENOVO","model":"Tab2A7-10F","os":"Android","osv":"5.0","js":1,"connectiontype":2,"devicetype":5,"flashver":"0","ifa":"f488fa4c-8cd5-4863-ab2c-7e6584073d46"},"user":{"data":[{"id":"1","name":"appodeal","segment":[{"id":"address","name":"address","value":"Lower Saxony, Braunschweig, 38118, Germany"}]},{"id":"2","name":"user"}]},"unparseable":{"app":{"storeUrl":"https://play.google.com/store/apps/details?id=com.sabzira.PianoTiles&hl=en"},"device":{"geo":{"utcoffset":120},"h":976,"hwv":"mt8127","lmt":1,"ppi":160,"pxratio":1,"w":600},"test":0},"bidCurrency":["USD"]}
	5: [{"spot":0,"creatives":[0,1,2,3,4,5,6]}]
	6: 132.700920
	7: {"frequency-cap-ex":{"data":0,"tags":["pass-frequency-cap-ex"]}}
	8: null


--------------------------[Exception thrown]---------------------------
time:   2016-07-22T11:26:45Z
type:   ML::Assertion_Failure
pid:    1700; tid: 1774
what:   assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
stack:
00: 0x0x7fc7f13effdb at __cxa_throw + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so + 0xfdb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so(__cxa_throw+0xbb) [0x7fc7f13effdb]
01: 0x0x428857 at RTBKIT::FixedPriceBiddingAgent::bid(double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&) + 0x337 in build/x86_64/bin/bidding_agent_ex + 0x28857build/x86_64/bin/bidding_agent_ex(_ZN6RTBKIT22FixedPriceBiddingAgent3bidEdRKN10Datacratic2IdESt10shared_ptrINS_10BidRequestEENS_4BidsEdRKN4Json5ValueE+0x337) [0x428857]
02: 0x0x4276c9 at boost::detail::function::void_function_obj_invoker7<boost::_bi::bind_t<void, boost::_mfi::mf6<void, RTBKIT::FixedPriceBiddingAgent, double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&>, boost::_bi::list7<boost::_bi::value<RTBKIT::FixedPriceBiddingAgent*>, boost::arg<1>, boost::arg<2>, boost::arg<3>, boost::arg<4>, boost::arg<5>, boost::arg<6> > >, void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::invoke(boost::detail::function::function_buffer&, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) + 0x239 in build/x86_64/bin/bidding_agent_ex + 0x276c9build/x86_64/bin/bidding_agent_ex(_ZN5boost6detail8function26void_function_obj_invoker7INS_3_bi6bind_tIvNS_4_mfi3mf6IvN6RTBKIT22FixedPriceBiddingAgentEdRKN10Datacratic2IdESt10shared_ptrINS7_10BidRequestEENS7_4BidsEdRKN4Json5ValueEEENS3_5list7INS3_5valueIPS8_EENS_3argILi1EEENSQ_ILi2EEENSQ_ILi3EEENSQ_ILi4EEENSQ_ILi5EEENSQ_ILi6EEEEEEEvdSA_SF_RKSG_dSI_RKNS7_12WinCostModelEE6invokeERNS1_15function_bufferEdSA_SF_S10_dSI_S13_+0x239) [0x4276c9]
03: 0x0x7fc7f0fd1c48 at boost::function7<void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::operator()(double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) const + 0xd8 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x34c48/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZNK5boost9function7IvdN10Datacratic2IdESt10shared_ptrIN6RTBKIT10BidRequestEERKNS4_4BidsEdN4Json5ValueERKNS4_12WinCostModelEEclEdS2_S6_S9_dSB_SE_+0xd8) [0x7fc7f0fd1c48]
04: 0x0x7fc7f0fc63bd at RTBKIT::BiddingAgent::handleBidRequest(std::string const&, std::vector<std::string, std::allocator<std::string> > const&, boost::function<void (double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&)>&) + 0xadd in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x293bd/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent16handleBidRequestERKSsRKSt6vectorISsSaISsEERN5boost8functionIFvdN10Datacratic2IdESt10shared_ptrINS_10BidRequestEERKNS_4BidsEdN4Json5ValueERKNS_12WinCostModelEEEE+0xadd) [0x7fc7f0fc63bd]
05: 0x0x7fc7f0fc6dfa at RTBKIT::BiddingAgent::handleRouterMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0x52a in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x29dfa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent19handleRouterMessageERKSsRKSt6vectorISsSaISsEE+0x52a) [0x7fc7f0fc6dfa]
06: 0x0x7fc7f0fc73aa in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2a3aa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(+0x2a3aa) [0x7fc7f0fc73aa]
07: 0x0x7fc7f0fcc411 at Datacratic::ZmqMultipleNamedClientBusProxy::handleMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0xb1 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f411/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic30ZmqMultipleNamedClientBusProxy13handleMessageERKSsRKSt6vectorISsSaISsEE+0xb1) [0x7fc7f0fcc411]
08: 0x0x7fc7f0fcc2cb at Datacratic::ZmqNamedClientBusProxy::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x7b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f2cb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic22ZmqNamedClientBusProxy13handleMessageERKSt6vectorISsSaISsEE+0x7b) [0x7fc7f0fcc2cb]
09: 0x0x7fc7f0d4777d at std::function<void (std::vector<std::string, std::allocator<std::string> >)>::operator()(std::vector<std::string, std::allocator<std::string> >) const + 0x4d in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so + 0x9077d/home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so(_ZNKSt8functionIFvSt6vectorISsSaISsEEEEclES2_+0x4d) [0x7fc7f0d4777d]
10: 0x0x7fc7f07881b2 at Datacratic::ZmqEventSource::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x42 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe71b2/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource13handleMessageERKSt6vectorISsSaISsEE+0x42) [0x7fc7f07881b2]
11: 0x0x7fc7f078a23b at Datacratic::ZmqEventSource::processOne() + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe923b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource10processOneEv+0xbb) [0x7fc7f078a23b]
12: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
13: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
14: 0x0x7fc7f0776b5e at Datacratic::MessageLoop::handleEpollEvent(epoll_event&) + 0xe in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd5b5e/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop16handleEpollEventER11epoll_event+0xe) [0x7fc7f0776b5e]
15: 0x0x7fc7f0762f36 at Datacratic::Epoller::handleEvents(int, int, std::function<Datacratic::Epoller::HandleEventResult (epoll_event&)> const&, std::function<void ()> const&, std::function<void ()> const&) + 0x1f6 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xc1f36/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic7Epoller12handleEventsEiiRKSt8functionIFNS0_17HandleEventResultER11epoll_eventEERKS1_IFvvEESC_+0x1f6) [0x7fc7f0762f36]
16: 0x0x7fc7f0777b88 at Datacratic::MessageLoop::runWorkerThread() + 0x518 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6b88/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop15runWorkerThreadEv+0x518) [0x7fc7f0777b88]
17: 0x0x7fc7f0777dc5 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6dc5/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(+0xd6dc5) [0x7fc7f0777dc5]
18: 0x0x7fc7f044ea60 in /usr/lib/x86_64-linux-gnu/libstdc++.so.6 + 0xb1a60/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb1a60) [0x7fc7f044ea60]
19: 0x0x7fc7f15fa182 in /lib/x86_64-linux-gnu/libpthread.so.0 + 0x8182/lib/x86_64-linux-gnu/libpthread.so.0(+0x8182) [0x7fc7f15fa182]
20: 0x0x7fc7efbb647d at clone + 0x6d in /lib/x86_64-linux-gnu/libc.so.6 + 0xfa47d/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d) [0x7fc7efbb647d]

Error handling auction message assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
	0: AUCTION
	1: 1469186805.81192
	2: 9d753fb0-95ce-400b-bf07-94c8f9a128891469186805442
	3: datacratic
	4: {"id":"9d753fb0-95ce-400b-bf07-94c8f9a128891469186805442","timestamp":"2016-07-22T11:26:45.812Z","isTest":false,"url":"http://com.sabzira.pianotiles/","ipAddress":"194.61.58.82","userAgent":"Dalvik/2.1.0 (Linux; U; Android 5.1.1; SM-J320FN Build/LMY47V)","language":"en","exchange":"appodeal","provider":"appodeal","location":{"countryCode":"MKD","dma":-1,"metro":-1,"timezoneOffsetMinutes":-1},"segments":{"1":["address"],"2":[],"api-banner":["MRAID-2"],"iab-categories":["IAB9-30","Music"],"openrtb-wseat":[]},"restrictions":{"badv":[],"bcat":[]},"userIds":{"prov":"5655552068524032882"},"imp":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.052,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"spots":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.052,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"app":{"id":"com.sabzira.PianoTiles","name":"Piano Tiles","cat":["IAB9-30","Music"],"publisher":{"name":"Sabzira"},"ver":"2.0.16","bundle":"com.sabzira.PianoTiles","paid":0},"device":{"dnt":0,"ua":"Dalvik/2.1.0 (Linux; U; Android 5.1.1; SM-J320FN Build/LMY47V)","ip":"194.61.58.82","geo":{"lat":41.8333,"lon":22,"country":"MKD","type":3},"carrier":"T-Mobile Macedonia","language":"en","make":"samsung","model":"SM-J320FN","os":"Android","osv":"5.1.1","js":1,"connectiontype":2,"devicetype":4,"flashver":"0","ifa":"9d753fb0-95ce-400b-bf07-94c8f9a12889"},"user":{"data":[{"id":"1","name":"appodeal","segment":[{"id":"address","name":"address","value":"Macedonia"}]},{"id":"2","name":"user"}]},"unparseable":{"app":{"storeUrl":"https://play.google.com/store/apps/details?id=com.sabzira.PianoTiles&hl=en"},"device":{"geo":{"utcoffset":120},"h":1280,"hwv":"sc8830","lmt":0,"ppi":320,"pxratio":2,"w":720},"test":0},"bidCurrency":["USD"]}
	5: [{"spot":0,"creatives":[0,1,2,3,4,5,6]}]
	6: 133.053303
	7: {"frequency-cap-ex":{"data":0,"tags":["pass-frequency-cap-ex"]}}
	8: null


--------------------------[Exception thrown]---------------------------
time:   2016-07-22T11:26:48Z
type:   ML::Assertion_Failure
pid:    1700; tid: 1774
what:   assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
stack:
00: 0x0x7fc7f13effdb at __cxa_throw + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so + 0xfdb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so(__cxa_throw+0xbb) [0x7fc7f13effdb]
01: 0x0x428857 at RTBKIT::FixedPriceBiddingAgent::bid(double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&) + 0x337 in build/x86_64/bin/bidding_agent_ex + 0x28857build/x86_64/bin/bidding_agent_ex(_ZN6RTBKIT22FixedPriceBiddingAgent3bidEdRKN10Datacratic2IdESt10shared_ptrINS_10BidRequestEENS_4BidsEdRKN4Json5ValueE+0x337) [0x428857]
02: 0x0x4276c9 at boost::detail::function::void_function_obj_invoker7<boost::_bi::bind_t<void, boost::_mfi::mf6<void, RTBKIT::FixedPriceBiddingAgent, double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&>, boost::_bi::list7<boost::_bi::value<RTBKIT::FixedPriceBiddingAgent*>, boost::arg<1>, boost::arg<2>, boost::arg<3>, boost::arg<4>, boost::arg<5>, boost::arg<6> > >, void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::invoke(boost::detail::function::function_buffer&, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) + 0x239 in build/x86_64/bin/bidding_agent_ex + 0x276c9build/x86_64/bin/bidding_agent_ex(_ZN5boost6detail8function26void_function_obj_invoker7INS_3_bi6bind_tIvNS_4_mfi3mf6IvN6RTBKIT22FixedPriceBiddingAgentEdRKN10Datacratic2IdESt10shared_ptrINS7_10BidRequestEENS7_4BidsEdRKN4Json5ValueEEENS3_5list7INS3_5valueIPS8_EENS_3argILi1EEENSQ_ILi2EEENSQ_ILi3EEENSQ_ILi4EEENSQ_ILi5EEENSQ_ILi6EEEEEEEvdSA_SF_RKSG_dSI_RKNS7_12WinCostModelEE6invokeERNS1_15function_bufferEdSA_SF_S10_dSI_S13_+0x239) [0x4276c9]
03: 0x0x7fc7f0fd1c48 at boost::function7<void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::operator()(double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) const + 0xd8 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x34c48/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZNK5boost9function7IvdN10Datacratic2IdESt10shared_ptrIN6RTBKIT10BidRequestEERKNS4_4BidsEdN4Json5ValueERKNS4_12WinCostModelEEclEdS2_S6_S9_dSB_SE_+0xd8) [0x7fc7f0fd1c48]
04: 0x0x7fc7f0fc63bd at RTBKIT::BiddingAgent::handleBidRequest(std::string const&, std::vector<std::string, std::allocator<std::string> > const&, boost::function<void (double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&)>&) + 0xadd in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x293bd/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent16handleBidRequestERKSsRKSt6vectorISsSaISsEERN5boost8functionIFvdN10Datacratic2IdESt10shared_ptrINS_10BidRequestEERKNS_4BidsEdN4Json5ValueERKNS_12WinCostModelEEEE+0xadd) [0x7fc7f0fc63bd]
05: 0x0x7fc7f0fc6dfa at RTBKIT::BiddingAgent::handleRouterMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0x52a in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x29dfa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent19handleRouterMessageERKSsRKSt6vectorISsSaISsEE+0x52a) [0x7fc7f0fc6dfa]
06: 0x0x7fc7f0fc73aa in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2a3aa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(+0x2a3aa) [0x7fc7f0fc73aa]
07: 0x0x7fc7f0fcc411 at Datacratic::ZmqMultipleNamedClientBusProxy::handleMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0xb1 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f411/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic30ZmqMultipleNamedClientBusProxy13handleMessageERKSsRKSt6vectorISsSaISsEE+0xb1) [0x7fc7f0fcc411]
08: 0x0x7fc7f0fcc2cb at Datacratic::ZmqNamedClientBusProxy::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x7b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f2cb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic22ZmqNamedClientBusProxy13handleMessageERKSt6vectorISsSaISsEE+0x7b) [0x7fc7f0fcc2cb]
09: 0x0x7fc7f0d4777d at std::function<void (std::vector<std::string, std::allocator<std::string> >)>::operator()(std::vector<std::string, std::allocator<std::string> >) const + 0x4d in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so + 0x9077d/home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so(_ZNKSt8functionIFvSt6vectorISsSaISsEEEEclES2_+0x4d) [0x7fc7f0d4777d]
10: 0x0x7fc7f07881b2 at Datacratic::ZmqEventSource::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x42 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe71b2/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource13handleMessageERKSt6vectorISsSaISsEE+0x42) [0x7fc7f07881b2]
11: 0x0x7fc7f078a23b at Datacratic::ZmqEventSource::processOne() + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe923b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource10processOneEv+0xbb) [0x7fc7f078a23b]
12: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
13: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
14: 0x0x7fc7f0776b5e at Datacratic::MessageLoop::handleEpollEvent(epoll_event&) + 0xe in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd5b5e/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop16handleEpollEventER11epoll_event+0xe) [0x7fc7f0776b5e]
15: 0x0x7fc7f0762f36 at Datacratic::Epoller::handleEvents(int, int, std::function<Datacratic::Epoller::HandleEventResult (epoll_event&)> const&, std::function<void ()> const&, std::function<void ()> const&) + 0x1f6 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xc1f36/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic7Epoller12handleEventsEiiRKSt8functionIFNS0_17HandleEventResultER11epoll_eventEERKS1_IFvvEESC_+0x1f6) [0x7fc7f0762f36]
16: 0x0x7fc7f0777b88 at Datacratic::MessageLoop::runWorkerThread() + 0x518 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6b88/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop15runWorkerThreadEv+0x518) [0x7fc7f0777b88]
17: 0x0x7fc7f0777dc5 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6dc5/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(+0xd6dc5) [0x7fc7f0777dc5]
18: 0x0x7fc7f044ea60 in /usr/lib/x86_64-linux-gnu/libstdc++.so.6 + 0xb1a60/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb1a60) [0x7fc7f044ea60]
19: 0x0x7fc7f15fa182 in /lib/x86_64-linux-gnu/libpthread.so.0 + 0x8182/lib/x86_64-linux-gnu/libpthread.so.0(+0x8182) [0x7fc7f15fa182]
20: 0x0x7fc7efbb647d at clone + 0x6d in /lib/x86_64-linux-gnu/libc.so.6 + 0xfa47d/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d) [0x7fc7efbb647d]

Error handling auction message assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
	0: AUCTION
	1: 1469186808.28804
	2: 810ca182-6f96-4243-864e-3b7322dad7f11469186811533
	3: datacratic
	4: {"id":"810ca182-6f96-4243-864e-3b7322dad7f11469186811533","timestamp":"2016-07-22T11:26:48.290Z","isTest":false,"url":"http://com.sabzira.pianotiles/","ipAddress":"90.45.33.251","userAgent":"Dalvik/2.1.0 (Linux; U; Android 5.0.2; SM-T550 Build/LRX22G)","language":"fr","exchange":"appodeal","provider":"appodeal","location":{"countryCode":"FRA","cityName":"Ternant","postalCode":"17400","dma":-1,"metro":-1,"timezoneOffsetMinutes":-1},"segments":{"1":["address"],"2":[],"api-banner":["MRAID-2"],"iab-categories":["IAB9-30","Music"],"openrtb-wseat":[]},"restrictions":{"badv":[],"bcat":[]},"userIds":{"prov":"17798897649313973962"},"imp":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.143,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"spots":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.143,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"app":{"id":"com.sabzira.PianoTiles","name":"Piano Tiles","cat":["IAB9-30","Music"],"publisher":{"name":"Sabzira"},"ver":"2.0.16","bundle":"com.sabzira.PianoTiles","paid":0},"device":{"dnt":0,"ua":"Dalvik/2.1.0 (Linux; U; Android 5.0.2; SM-T550 Build/LRX22G)","ip":"90.45.33.251","geo":{"lat":46.2703,"lon":-0.0260656,"country":"FRA","city":"Ternant","zip":"17400","type":1},"language":"fr","make":"samsung","model":"SM-T550","os":"Android","osv":"5.0.2","js":1,"connectiontype":2,"devicetype":5,"flashver":"0","ifa":"810ca182-6f96-4243-864e-3b7322dad7f1"},"user":{"data":[{"id":"1","name":"appodeal","segment":[{"id":"address","name":"address","value":"Poitou-Charentes, Charente-Maritime, Ternant, 17400, France"}]},{"id":"2","name":"user"}]},"unparseable":{"app":{"storeUrl":"https://play.google.com/store/apps/details?id=com.sabzira.PianoTiles&hl=en"},"device":{"geo":{"utcoffset":120},"h":1024,"hwv":"qcom","lmt":0,"ppi":160,"pxratio":1,"w":768},"test":0},"bidCurrency":["USD"]}
	5: [{"spot":0,"creatives":[0,1,2,3,4,5,6]}]
	6: 131.297350
	7: {"frequency-cap-ex":{"data":0,"tags":["pass-frequency-cap-ex"]}}
	8: null


--------------------------[Exception thrown]---------------------------
time:   2016-07-22T11:26:50Z
type:   ML::Assertion_Failure
pid:    1700; tid: 1774
what:   assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
stack:
00: 0x0x7fc7f13effdb at __cxa_throw + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so + 0xfdb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so(__cxa_throw+0xbb) [0x7fc7f13effdb]
01: 0x0x428857 at RTBKIT::FixedPriceBiddingAgent::bid(double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&) + 0x337 in build/x86_64/bin/bidding_agent_ex + 0x28857build/x86_64/bin/bidding_agent_ex(_ZN6RTBKIT22FixedPriceBiddingAgent3bidEdRKN10Datacratic2IdESt10shared_ptrINS_10BidRequestEENS_4BidsEdRKN4Json5ValueE+0x337) [0x428857]
02: 0x0x4276c9 at boost::detail::function::void_function_obj_invoker7<boost::_bi::bind_t<void, boost::_mfi::mf6<void, RTBKIT::FixedPriceBiddingAgent, double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&>, boost::_bi::list7<boost::_bi::value<RTBKIT::FixedPriceBiddingAgent*>, boost::arg<1>, boost::arg<2>, boost::arg<3>, boost::arg<4>, boost::arg<5>, boost::arg<6> > >, void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::invoke(boost::detail::function::function_buffer&, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) + 0x239 in build/x86_64/bin/bidding_agent_ex + 0x276c9build/x86_64/bin/bidding_agent_ex(_ZN5boost6detail8function26void_function_obj_invoker7INS_3_bi6bind_tIvNS_4_mfi3mf6IvN6RTBKIT22FixedPriceBiddingAgentEdRKN10Datacratic2IdESt10shared_ptrINS7_10BidRequestEENS7_4BidsEdRKN4Json5ValueEEENS3_5list7INS3_5valueIPS8_EENS_3argILi1EEENSQ_ILi2EEENSQ_ILi3EEENSQ_ILi4EEENSQ_ILi5EEENSQ_ILi6EEEEEEEvdSA_SF_RKSG_dSI_RKNS7_12WinCostModelEE6invokeERNS1_15function_bufferEdSA_SF_S10_dSI_S13_+0x239) [0x4276c9]
03: 0x0x7fc7f0fd1c48 at boost::function7<void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::operator()(double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) const + 0xd8 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x34c48/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZNK5boost9function7IvdN10Datacratic2IdESt10shared_ptrIN6RTBKIT10BidRequestEERKNS4_4BidsEdN4Json5ValueERKNS4_12WinCostModelEEclEdS2_S6_S9_dSB_SE_+0xd8) [0x7fc7f0fd1c48]
04: 0x0x7fc7f0fc63bd at RTBKIT::BiddingAgent::handleBidRequest(std::string const&, std::vector<std::string, std::allocator<std::string> > const&, boost::function<void (double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&)>&) + 0xadd in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x293bd/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent16handleBidRequestERKSsRKSt6vectorISsSaISsEERN5boost8functionIFvdN10Datacratic2IdESt10shared_ptrINS_10BidRequestEERKNS_4BidsEdN4Json5ValueERKNS_12WinCostModelEEEE+0xadd) [0x7fc7f0fc63bd]
05: 0x0x7fc7f0fc6dfa at RTBKIT::BiddingAgent::handleRouterMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0x52a in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x29dfa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent19handleRouterMessageERKSsRKSt6vectorISsSaISsEE+0x52a) [0x7fc7f0fc6dfa]
06: 0x0x7fc7f0fc73aa in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2a3aa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(+0x2a3aa) [0x7fc7f0fc73aa]
07: 0x0x7fc7f0fcc411 at Datacratic::ZmqMultipleNamedClientBusProxy::handleMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0xb1 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f411/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic30ZmqMultipleNamedClientBusProxy13handleMessageERKSsRKSt6vectorISsSaISsEE+0xb1) [0x7fc7f0fcc411]
08: 0x0x7fc7f0fcc2cb at Datacratic::ZmqNamedClientBusProxy::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x7b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f2cb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic22ZmqNamedClientBusProxy13handleMessageERKSt6vectorISsSaISsEE+0x7b) [0x7fc7f0fcc2cb]
09: 0x0x7fc7f0d4777d at std::function<void (std::vector<std::string, std::allocator<std::string> >)>::operator()(std::vector<std::string, std::allocator<std::string> >) const + 0x4d in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so + 0x9077d/home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so(_ZNKSt8functionIFvSt6vectorISsSaISsEEEEclES2_+0x4d) [0x7fc7f0d4777d]
10: 0x0x7fc7f07881b2 at Datacratic::ZmqEventSource::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x42 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe71b2/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource13handleMessageERKSt6vectorISsSaISsEE+0x42) [0x7fc7f07881b2]
11: 0x0x7fc7f078a23b at Datacratic::ZmqEventSource::processOne() + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe923b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource10processOneEv+0xbb) [0x7fc7f078a23b]
12: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
13: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
14: 0x0x7fc7f0776b5e at Datacratic::MessageLoop::handleEpollEvent(epoll_event&) + 0xe in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd5b5e/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop16handleEpollEventER11epoll_event+0xe) [0x7fc7f0776b5e]
15: 0x0x7fc7f0762f36 at Datacratic::Epoller::handleEvents(int, int, std::function<Datacratic::Epoller::HandleEventResult (epoll_event&)> const&, std::function<void ()> const&, std::function<void ()> const&) + 0x1f6 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xc1f36/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic7Epoller12handleEventsEiiRKSt8functionIFNS0_17HandleEventResultER11epoll_eventEERKS1_IFvvEESC_+0x1f6) [0x7fc7f0762f36]
16: 0x0x7fc7f0777b88 at Datacratic::MessageLoop::runWorkerThread() + 0x518 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6b88/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop15runWorkerThreadEv+0x518) [0x7fc7f0777b88]
17: 0x0x7fc7f0777dc5 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6dc5/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(+0xd6dc5) [0x7fc7f0777dc5]
18: 0x0x7fc7f044ea60 in /usr/lib/x86_64-linux-gnu/libstdc++.so.6 + 0xb1a60/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb1a60) [0x7fc7f044ea60]
19: 0x0x7fc7f15fa182 in /lib/x86_64-linux-gnu/libpthread.so.0 + 0x8182/lib/x86_64-linux-gnu/libpthread.so.0(+0x8182) [0x7fc7f15fa182]
20: 0x0x7fc7efbb647d at clone + 0x6d in /lib/x86_64-linux-gnu/libc.so.6 + 0xfa47d/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d) [0x7fc7efbb647d]

Error handling auction message assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
	0: AUCTION
	1: 1469186810.05029
	2: 197d0369-406a-434d-a5bc-8f4fa23cb9921469186810910
	3: datacratic
	4: {"id":"197d0369-406a-434d-a5bc-8f4fa23cb9921469186810910","timestamp":"2016-07-22T11:26:50.055Z","isTest":false,"url":"http://com.sabzira.pianotiles/","ipAddress":"5.169.33.80","userAgent":"Dalvik/2.1.0 (Linux; U; Android 5.0.2; ASUS_Z00LD Build/LRX22G)","language":"it","exchange":"appodeal","provider":"appodeal","location":{"countryCode":"ITA","cityName":"Carnate","postalCode":"20040","dma":-1,"metro":-1,"timezoneOffsetMinutes":-1},"segments":{"1":["address"],"2":[],"api-banner":["MRAID-2"],"iab-categories":["IAB9-30","Music"],"openrtb-wseat":[]},"restrictions":{"badv":[],"bcat":[]},"userIds":{"prov":"2740835175102857911"},"imp":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.00026,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"spots":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.00026,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"app":{"id":"com.sabzira.PianoTiles","name":"Piano Tiles","cat":["IAB9-30","Music"],"publisher":{"name":"Sabzira"},"ver":"2.0.16","bundle":"com.sabzira.PianoTiles","paid":0},"device":{"dnt":0,"ua":"Dalvik/2.1.0 (Linux; U; Android 5.0.2; ASUS_Z00LD Build/LRX22G)","ip":"5.169.33.80","geo":{"lat":45.8378,"lon":9.33628,"country":"ITA","city":"Carnate","zip":"20040","type":1},"carrier":"I TIM","language":"it","make":"asus","model":"ASUS_Z00LD","os":"Android","osv":"5.0.2","js":1,"connectiontype":2,"devicetype":4,"flashver":"0","ifa":"197d0369-406a-434d-a5bc-8f4fa23cb992"},"user":{"data":[{"id":"1","name":"appodeal","segment":[{"id":"address","name":"address","value":"Lombardy, Monza Brianza, Carnate, 20040, Italy"}]},{"id":"2","name":"user"}]},"unparseable":{"app":{"storeUrl":"https://play.google.com/store/apps/details?id=com.sabzira.PianoTiles&hl=en"},"device":{"geo":{"utcoffset":120},"h":1280,"hwv":"qcom","lmt":0,"ppi":320,"pxratio":2,"w":720},"test":0},"bidCurrency":["USD"]}
	5: [{"spot":0,"creatives":[0,1,2,3,4,5,6]}]
	6: 129.076481
	7: {"frequency-cap-ex":{"data":0,"tags":["pass-frequency-cap-ex"]}}
	8: null


--------------------------[Exception thrown]---------------------------
time:   2016-07-22T11:26:52Z
type:   ML::Assertion_Failure
pid:    1700; tid: 1774
what:   assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
stack:
00: 0x0x7fc7f13effdb at __cxa_throw + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so + 0xfdb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libexception_hook.so(__cxa_throw+0xbb) [0x7fc7f13effdb]
01: 0x0x428857 at RTBKIT::FixedPriceBiddingAgent::bid(double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&) + 0x337 in build/x86_64/bin/bidding_agent_ex + 0x28857build/x86_64/bin/bidding_agent_ex(_ZN6RTBKIT22FixedPriceBiddingAgent3bidEdRKN10Datacratic2IdESt10shared_ptrINS_10BidRequestEENS_4BidsEdRKN4Json5ValueE+0x337) [0x428857]
02: 0x0x4276c9 at boost::detail::function::void_function_obj_invoker7<boost::_bi::bind_t<void, boost::_mfi::mf6<void, RTBKIT::FixedPriceBiddingAgent, double, Datacratic::Id const&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, Json::Value const&>, boost::_bi::list7<boost::_bi::value<RTBKIT::FixedPriceBiddingAgent*>, boost::arg<1>, boost::arg<2>, boost::arg<3>, boost::arg<4>, boost::arg<5>, boost::arg<6> > >, void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::invoke(boost::detail::function::function_buffer&, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) + 0x239 in build/x86_64/bin/bidding_agent_ex + 0x276c9build/x86_64/bin/bidding_agent_ex(_ZN5boost6detail8function26void_function_obj_invoker7INS_3_bi6bind_tIvNS_4_mfi3mf6IvN6RTBKIT22FixedPriceBiddingAgentEdRKN10Datacratic2IdESt10shared_ptrINS7_10BidRequestEENS7_4BidsEdRKN4Json5ValueEEENS3_5list7INS3_5valueIPS8_EENS_3argILi1EEENSQ_ILi2EEENSQ_ILi3EEENSQ_ILi4EEENSQ_ILi5EEENSQ_ILi6EEEEEEEvdSA_SF_RKSG_dSI_RKNS7_12WinCostModelEE6invokeERNS1_15function_bufferEdSA_SF_S10_dSI_S13_+0x239) [0x4276c9]
03: 0x0x7fc7f0fd1c48 at boost::function7<void, double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&>::operator()(double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&) const + 0xd8 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x34c48/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZNK5boost9function7IvdN10Datacratic2IdESt10shared_ptrIN6RTBKIT10BidRequestEERKNS4_4BidsEdN4Json5ValueERKNS4_12WinCostModelEEclEdS2_S6_S9_dSB_SE_+0xd8) [0x7fc7f0fd1c48]
04: 0x0x7fc7f0fc63bd at RTBKIT::BiddingAgent::handleBidRequest(std::string const&, std::vector<std::string, std::allocator<std::string> > const&, boost::function<void (double, Datacratic::Id, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids const&, double, Json::Value, RTBKIT::WinCostModel const&)>&) + 0xadd in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x293bd/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent16handleBidRequestERKSsRKSt6vectorISsSaISsEERN5boost8functionIFvdN10Datacratic2IdESt10shared_ptrINS_10BidRequestEERKNS_4BidsEdN4Json5ValueERKNS_12WinCostModelEEEE+0xadd) [0x7fc7f0fc63bd]
05: 0x0x7fc7f0fc6dfa at RTBKIT::BiddingAgent::handleRouterMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0x52a in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x29dfa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN6RTBKIT12BiddingAgent19handleRouterMessageERKSsRKSt6vectorISsSaISsEE+0x52a) [0x7fc7f0fc6dfa]
06: 0x0x7fc7f0fc73aa in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2a3aa/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(+0x2a3aa) [0x7fc7f0fc73aa]
07: 0x0x7fc7f0fcc411 at Datacratic::ZmqMultipleNamedClientBusProxy::handleMessage(std::string const&, std::vector<std::string, std::allocator<std::string> > const&) + 0xb1 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f411/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic30ZmqMultipleNamedClientBusProxy13handleMessageERKSsRKSt6vectorISsSaISsEE+0xb1) [0x7fc7f0fcc411]
08: 0x0x7fc7f0fcc2cb at Datacratic::ZmqNamedClientBusProxy::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x7b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so + 0x2f2cb/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libbidding_agent.so(_ZN10Datacratic22ZmqNamedClientBusProxy13handleMessageERKSt6vectorISsSaISsEE+0x7b) [0x7fc7f0fcc2cb]
09: 0x0x7fc7f0d4777d at std::function<void (std::vector<std::string, std::allocator<std::string> >)>::operator()(std::vector<std::string, std::allocator<std::string> >) const + 0x4d in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so + 0x9077d/home/ubuntu/rtbkit/build/x86_64/bin/../bin/librtb_router.so(_ZNKSt8functionIFvSt6vectorISsSaISsEEEEclES2_+0x4d) [0x7fc7f0d4777d]
10: 0x0x7fc7f07881b2 at Datacratic::ZmqEventSource::handleMessage(std::vector<std::string, std::allocator<std::string> > const&) + 0x42 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe71b2/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource13handleMessageERKSt6vectorISsSaISsEE+0x42) [0x7fc7f07881b2]
11: 0x0x7fc7f078a23b at Datacratic::ZmqEventSource::processOne() + 0xbb in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xe923b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic14ZmqEventSource10processOneEv+0xbb) [0x7fc7f078a23b]
12: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
13: 0x0x7fc7f077748b at Datacratic::MessageLoop::processOne() + 0x13b in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd648b/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop10processOneEv+0x13b) [0x7fc7f077748b]
14: 0x0x7fc7f0776b5e at Datacratic::MessageLoop::handleEpollEvent(epoll_event&) + 0xe in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd5b5e/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop16handleEpollEventER11epoll_event+0xe) [0x7fc7f0776b5e]
15: 0x0x7fc7f0762f36 at Datacratic::Epoller::handleEvents(int, int, std::function<Datacratic::Epoller::HandleEventResult (epoll_event&)> const&, std::function<void ()> const&, std::function<void ()> const&) + 0x1f6 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xc1f36/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic7Epoller12handleEventsEiiRKSt8functionIFNS0_17HandleEventResultER11epoll_eventEERKS1_IFvvEESC_+0x1f6) [0x7fc7f0762f36]
16: 0x0x7fc7f0777b88 at Datacratic::MessageLoop::runWorkerThread() + 0x518 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6b88/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(_ZN10Datacratic11MessageLoop15runWorkerThreadEv+0x518) [0x7fc7f0777b88]
17: 0x0x7fc7f0777dc5 in /home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so + 0xd6dc5/home/ubuntu/rtbkit/build/x86_64/bin/../bin/libservices.so(+0xd6dc5) [0x7fc7f0777dc5]
18: 0x0x7fc7f044ea60 in /usr/lib/x86_64-linux-gnu/libstdc++.so.6 + 0xb1a60/usr/lib/x86_64-linux-gnu/libstdc++.so.6(+0xb1a60) [0x7fc7f044ea60]
19: 0x0x7fc7f15fa182 in /lib/x86_64-linux-gnu/libpthread.so.0 + 0x8182/lib/x86_64-linux-gnu/libpthread.so.0(+0x8182) [0x7fc7f15fa182]
20: 0x0x7fc7efbb647d at clone + 0x6d in /lib/x86_64-linux-gnu/libc.so.6 + 0xfa47d/lib/x86_64-linux-gnu/libc.so.6(clone+0x6d) [0x7fc7efbb647d]

Error handling auction message assertion failure: Assert failure: !(bid.availableCreatives.size() == 1) [!(7 == 1)] at ./rtbkit/examples/bidding_agent_ex.cc:175 in void RTBKIT::FixedPriceBiddingAgent::bid(double, const Datacratic::Id&, std::shared_ptr<RTBKIT::BidRequest>, RTBKIT::Bids, double, const Json::Value&)
	0: AUCTION
	1: 1469186812.82028
	2: 7fb26294-9707-4b99-a16e-6766f1bdabb71469186811570
	3: datacratic
	4: {"id":"7fb26294-9707-4b99-a16e-6766f1bdabb71469186811570","timestamp":"2016-07-22T11:26:52.820Z","isTest":false,"url":"http://com.sabzira.pianotiles/","ipAddress":"113.210.62.175","userAgent":"Dalvik/2.1.0 (Linux; U; Android 5.1.1; SM-J700F Build/LMY48B)","language":"en","exchange":"appodeal","provider":"appodeal","location":{"countryCode":"MYS","dma":-1,"metro":-1,"timezoneOffsetMinutes":-1},"segments":{"1":["address"],"2":[],"api-banner":["MRAID-2"],"iab-categories":["IAB9-30","Music"],"openrtb-wseat":[]},"restrictions":{"badv":[],"bcat":[]},"userIds":{"prov":"5229257850841215446"},"imp":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.39,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"spots":[{"id":"1","banner":{"w":320,"h":50,"pos":0,"mimes":["image/jpg","image/gif","image/png"],"topframe":0,"expdir":[5,3],"api":[5]},"tagid":"appodeal","bidfloor":0.39,"bidfloorcur":"USD","formats":["320x50"],"position":0}],"app":{"id":"com.sabzira.PianoTiles","name":"Piano Tiles","cat":["IAB9-30","Music"],"publisher":{"name":"Sabzira"},"ver":"2.0.16","bundle":"com.sabzira.PianoTiles","paid":0},"device":{"dnt":0,"ua":"Dalvik/2.1.0 (Linux; U; Android 5.1.1; SM-J700F Build/LMY48B)","ip":"113.210.62.175","geo":{"lat":2.5,"lon":112.5,"country":"MYS","type":3},"carrier":"MY MAXIS","language":"en","make":"samsung","model":"SM-J700F","os":"Android","osv":"5.1.1","js":1,"connectiontype":3,"devicetype":4,"flashver":"0","ifa":"7fb26294-9707-4b99-a16e-6766f1bdabb7"},"user":{"data":[{"id":"1","name":"appodeal","segment":[{"id":"address","name":"address","value":"Malaysia"}]},{"id":"2","name":"user"}]},"unparseable":{"app":{"storeUrl":"https://play.google.com/store/apps/details?id=com.sabzira.PianoTiles&hl=en"},"device":{"geo":{"utcoffset":480},"h":1280,"hwv":"samsungexynos7580","lmt":0,"ppi":320,"pxratio":2,"w":720},"test":0},"bidCurrency":["USD"]}
	5: [{"spot":0,"creatives":[0,1,2,3,4,5,6]}]
	6: 132.878304
	7: {"frequency-cap-ex":{"data":0,"tags":["pass-frequency-cap-ex"]}}
	8: null

